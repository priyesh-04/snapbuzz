(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{S3zW:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J");class o{}class i{constructor(l,n,t){this._router=l,this._route=n,this._postService=t,this.currentUrl="",this.contentData={caption:""},this.imageChangedEvent="",this.croppedImage="",this.showCropper=!1,this.isLoading=!1,this.currentUrl=this._router.url}ngOnInit(){this.isLoading=!0,this.id=+this._route.snapshot.paramMap.get("id"),this._postService.getPost(this.id).subscribe(l=>{for(let n=0;n<l.length;n++){const t=l[n];this.id===t.id&&(this.contentData={caption:t.caption},this.croppedImage=t.picture)}this.isLoading=!1},l=>{this.isLoading=!1,500===l.status&&alert(l.message)})}toggleEmoji(){document.querySelector("#emojiID").classList.toggle("emoji-toggle")}addEmoji(l){let n=l.emoji.native;const t=document.getElementById("post_caption");$("#emojiID").click((function(){t.value=t.value+n,n=""}))}fileChangeEvent(l){this.imageChangedEvent=l}imageCropped(l){this.croppedImage=l.base64,console.log(l)}imageLoaded(){this.showCropper=!0,console.log("Image loaded")}cropperReady(){console.log("Cropper ready")}loadImageFailed(){console.log("Load failed")}rotateLeft(){this.imageCropper.rotateLeft()}rotateRight(){this.imageCropper.rotateRight()}flipHorizontal(){this.imageCropper.flipHorizontal()}flipVertical(){this.imageCropper.flipVertical()}editPost(){this.isLoading=!0,this.contentData.caption=document.querySelector("#post_caption").value,this._postService.postEdit(this.contentData.caption,this.croppedImage,this.id).subscribe(l=>{this.isLoading=!1,this._router.navigate(["/post"]),this.contentData.caption="",this.croppedImage=""},l=>{alert("upload new image to update or click cancel to discard changes."),this.isLoading=!1})}deletePost(){this.isLoading=!0,this._postService.postDelete(this.id).subscribe(l=>{this.isLoading=!1,this._router.navigate(["/post"])},l=>this.isLoading=!1)}}var a=t("pMnS"),u=t("VDRc"),c=t("/q54"),r=t("NvT6"),s=t("W5yJ"),b=t("/HVE"),p=t("SVse"),d=t("omvX"),g=t("s7LF"),m=t("iInd"),h=t("Mr+X"),f=t("Gi4r"),U=t("LdKx"),v=t("gg18"),y=t("SVWe"),W=t("YD+O"),C=t("cUpR"),k=t("ova0"),L=e.Ib({encapsulation:0,styles:[["#post_caption[_ngcontent-%COMP%]{width:100%;height:50px;resize:none;padding:10px;font-weight:400;letter-spacing:1px;word-spacing:2px;border:1px solid #333}.emoji-icon[_ngcontent-%COMP%]{position:absolute;transform:translate(-40px,12px);cursor:default}emoji-mart[_ngcontent-%COMP%]{position:absolute;transform:translate(-335px,28px);z-index:11}.emoji-toggle[_ngcontent-%COMP%]{display:none}"]],data:{}});function j(l){return e.hc(0,[(l()(),e.Kb(0,0,null,null,4,"div",[["fxLayout","row"],["fxLayoutAlign","space-around center"],["style","height:100%"]],null,null,null,null,null)),e.Jb(1,671744,null,0,u.c,[e.q,c.i,[2,u.k],c.f],{fxLayout:[0,"fxLayout"]},null),e.Jb(2,671744,null,0,u.b,[e.q,c.i,[2,u.i],c.f],{fxLayoutAlign:[0,"fxLayoutAlign"]},null),(l()(),e.Kb(3,0,null,null,1,"mat-spinner",[["class","mat-spinner mat-progress-spinner"],["color","warn"],["diameter","50"],["mode","indeterminate"],["role","progressbar"],["strokeWidth","5"]],[[2,"_mat-animation-noopable",null],[4,"width","px"],[4,"height","px"]],null,null,r.b,r.a)),e.Jb(4,114688,null,0,s.d,[e.q,b.a,[2,p.c],[2,d.a],s.a],{color:[0,"color"],diameter:[1,"diameter"],strokeWidth:[2,"strokeWidth"],mode:[3,"mode"]},null)],(function(l,n){l(n,1,0,"row"),l(n,2,0,"space-around center"),l(n,4,0,"warn","50","5","indeterminate")}),(function(l,n){l(n,3,0,e.Wb(n,4)._noopAnimations,e.Wb(n,4).diameter,e.Wb(n,4).diameter)}))}function I(l){return e.hc(0,[(l()(),e.Kb(0,0,null,null,46,"div",[["class","container"],["style","height: 100%;margin-bottom: 120px;"]],null,null,null,null,null)),(l()(),e.Kb(1,0,null,null,45,"form",[["novalidate",""],["style","margin-top: 15vh;align-items: center;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var o=!0;return"submit"===n&&(o=!1!==e.Wb(l,3).onSubmit(t)&&o),"reset"===n&&(o=!1!==e.Wb(l,3).onReset()&&o),o}),null,null)),e.Jb(2,16384,null,0,g.r,[],null,null),e.Jb(3,4210688,null,0,g.l,[[8,null],[8,null]],null,null),e.bc(2048,null,g.b,null,[g.l]),e.Jb(5,16384,null,0,g.k,[[4,g.b]],null,null),(l()(),e.Kb(6,0,null,null,40,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.Kb(7,0,null,null,18,"div",[["class","textarea-div mb-5"]],null,null,null,null,null)),(l()(),e.Kb(8,0,null,null,5,"input",[["id","post_caption"],["name","caption"],["placeholder","What are you thinking..."],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var o=!0,i=l.component;return"input"===n&&(o=!1!==e.Wb(l,9)._handleInput(t.target.value)&&o),"blur"===n&&(o=!1!==e.Wb(l,9).onTouched()&&o),"compositionstart"===n&&(o=!1!==e.Wb(l,9)._compositionStart()&&o),"compositionend"===n&&(o=!1!==e.Wb(l,9)._compositionEnd(t.target.value)&&o),"ngModelChange"===n&&(o=!1!==(i.contentData.caption=t)&&o),o}),null,null)),e.Jb(9,16384,null,0,g.c,[e.Q,e.q,[2,g.a]],null,null),e.bc(1024,null,g.h,(function(l){return[l]}),[g.c]),e.Jb(11,671744,[["post",4]],0,g.m,[[2,g.b],[8,null],[8,null],[6,g.h]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.bc(2048,null,g.i,null,[g.m]),e.Jb(13,16384,null,0,g.j,[[4,g.i]],null,null),(l()(),e.Kb(14,0,null,null,2,"a",[["class","btn btn-secondary float-right ml-3 mt-3"],["routerLink","/post"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==e.Wb(l,15).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&o),o}),null,null)),e.Jb(15,671744,null,0,m.n,[m.k,m.a,p.h],{routerLink:[0,"routerLink"]},null),(l()(),e.fc(-1,null,["Cancel"])),(l()(),e.Kb(17,0,null,null,1,"button",[["class","btn btn-danger float-right ml-3 mt-3"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.deletePost()&&e),e}),null,null)),(l()(),e.fc(-1,null,["delete"])),(l()(),e.Kb(19,0,null,null,1,"button",[["class","btn btn-success float-right ml-3 mt-3"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.editPost()&&e),e}),null,null)),(l()(),e.fc(-1,null,["update"])),(l()(),e.Kb(21,0,null,null,2,"mat-icon",[["class","emoji-icon mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.toggleEmoji()&&e),e}),h.b,h.a)),e.Jb(22,9158656,null,0,f.b,[e.q,f.d,[8,null],[2,f.a],[2,e.r]],null,null),(l()(),e.fc(-1,0,["sentiment_very_satisfied"])),(l()(),e.Kb(24,0,null,null,1,"emoji-mart",[["class","emoji-toggle"],["color","green"],["emoji","point_up"],["id","emojiID"],["title","Pick your emoji\u2026"]],null,[[null,"emojiSelect"]],(function(l,n,t){var e=!0;return"emojiSelect"===n&&(e=!1!==l.component.addEmoji(t)&&e),e}),U.b,U.a)),e.Jb(25,114688,null,0,v.e,[e.j,v.c],{title:[0,"title"],emoji:[1,"emoji"],color:[2,"color"]},{emojiSelect:"emojiSelect"}),(l()(),e.Kb(26,0,null,null,20,"div",[["style","width: 20%;"]],null,null,null,null,null)),(l()(),e.Kb(27,0,[["Image",1]],null,0,"input",[["accept","image/*"],["multiple","false"],["style","display: none"],["type","file"]],null,[[null,"change"]],(function(l,n,t){var e=!0;return"change"===n&&(e=!1!==l.component.fileChangeEvent(t)&&e),e}),null,null)),(l()(),e.Kb(28,0,null,null,5,"a",[["style","cursor: pointer"]],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==e.Wb(l,27).click()&&o),o}),null,null)),(l()(),e.Kb(29,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,h.b,h.a)),e.Jb(30,9158656,null,0,f.b,[e.q,f.d,[8,null],[2,f.a],[2,e.r]],null,null),(l()(),e.fc(-1,0,["add_a_photo"])),(l()(),e.Kb(32,0,null,null,1,"span",[["style","position:absolute;padding-top: 3px;"]],null,null,null,null,null)),(l()(),e.fc(-1,null,["Change photo"])),(l()(),e.Kb(34,0,null,null,0,"img",[["style","width: 100%;max-width: 250px;"]],[[8,"src",4]],null,null,null,null)),(l()(),e.Kb(35,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e.Kb(36,0,null,null,1,"image-cropper",[["format","jpg"],["outputType","base64"]],[[4,"display",null],[4,"text-align",null]],[[null,"imageCropped"],[null,"imageLoaded"],[null,"cropperReady"],[null,"loadImageFailed"],["window","resize"],["document","mousemove"],["document","touchmove"],["document","mouseup"],["document","touchend"]],(function(l,n,t){var o=!0,i=l.component;return"window:resize"===n&&(o=!1!==e.Wb(l,37).onResize()&&o),"document:mousemove"===n&&(o=!1!==e.Wb(l,37).moveImg(t)&&o),"document:touchmove"===n&&(o=!1!==e.Wb(l,37).moveImg(t)&&o),"document:mouseup"===n&&(o=!1!==e.Wb(l,37).moveStop()&&o),"document:touchend"===n&&(o=!1!==e.Wb(l,37).moveStop()&&o),"imageCropped"===n&&(o=!1!==i.imageCropped(t)&&o),"imageLoaded"===n&&(o=!1!==i.imageLoaded()&&o),"cropperReady"===n&&(o=!1!==i.cropperReady()&&o),"loadImageFailed"===n&&(o=!1!==i.loadImageFailed()&&o),o}),y.b,y.a)),e.Jb(37,573440,[[1,4]],0,W.a,[C.b,e.j,e.J],{imageChangedEvent:[0,"imageChangedEvent"],format:[1,"format"],outputType:[2,"outputType"],maintainAspectRatio:[3,"maintainAspectRatio"],aspectRatio:[4,"aspectRatio"],resizeToWidth:[5,"resizeToWidth"],resizeToHeight:[6,"resizeToHeight"],cropperMinWidth:[7,"cropperMinWidth"],roundCropper:[8,"roundCropper"],onlyScaleDown:[9,"onlyScaleDown"],alignImage:[10,"alignImage"]},{imageCropped:"imageCropped",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"}),(l()(),e.Kb(38,0,null,null,1,"button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.flipHorizontal()&&e),e}),null,null)),(l()(),e.fc(-1,null,["Flip horizontal"])),(l()(),e.Kb(40,0,null,null,1,"button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.flipVertical()&&e),e}),null,null)),(l()(),e.fc(-1,null,["Flip vertical"])),(l()(),e.Kb(42,0,null,null,1,"button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.rotateRight()&&e),e}),null,null)),(l()(),e.fc(-1,null,["Rotate right"])),(l()(),e.Kb(44,0,null,null,1,"button",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.rotateLeft()&&e),e}),null,null)),(l()(),e.fc(-1,null,["Rotate left"])),(l()(),e.Kb(46,0,null,null,0,"br",[],null,null,null,null,null))],(function(l,n){var t=n.component;l(n,11,0,"caption",t.contentData.caption),l(n,15,0,"/post"),l(n,22,0),l(n,25,0,"Pick your emoji\u2026","point_up","green"),l(n,30,0),l(n,37,1,[t.imageChangedEvent,"jpg","base64",!0,1,1080,1080,128,!1,!0,"left"])}),(function(l,n){var t=n.component;l(n,1,0,e.Wb(n,5).ngClassUntouched,e.Wb(n,5).ngClassTouched,e.Wb(n,5).ngClassPristine,e.Wb(n,5).ngClassDirty,e.Wb(n,5).ngClassValid,e.Wb(n,5).ngClassInvalid,e.Wb(n,5).ngClassPending),l(n,8,0,e.Wb(n,13).ngClassUntouched,e.Wb(n,13).ngClassTouched,e.Wb(n,13).ngClassPristine,e.Wb(n,13).ngClassDirty,e.Wb(n,13).ngClassValid,e.Wb(n,13).ngClassInvalid,e.Wb(n,13).ngClassPending),l(n,14,0,e.Wb(n,15).target,e.Wb(n,15).href),l(n,21,0,e.Wb(n,22).inline,"primary"!==e.Wb(n,22).color&&"accent"!==e.Wb(n,22).color&&"warn"!==e.Wb(n,22).color),l(n,29,0,e.Wb(n,30).inline,"primary"!==e.Wb(n,30).color&&"accent"!==e.Wb(n,30).color&&"warn"!==e.Wb(n,30).color),l(n,34,0,t.croppedImage),l(n,36,0,t.showCropper?null:"none",e.Wb(n,37).alignImage)}))}function w(l){return e.hc(0,[e.cc(671088640,1,{imageCropper:0}),(l()(),e.zb(16777216,null,null,1,null,j)),e.Jb(2,16384,null,0,p.k,[e.eb,e.Z],{ngIf:[0,"ngIf"]},null),(l()(),e.zb(16777216,null,null,1,null,I)),e.Jb(4,16384,null,0,p.k,[e.eb,e.Z],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,2,0,t.isLoading),l(n,4,0,!t.isLoading)}),null)}function K(l){return e.hc(0,[(l()(),e.Kb(0,0,null,null,1,"app-post-edit",[],null,null,null,w,L)),e.Jb(1,114688,null,0,i,[m.k,m.a,k.a],null,null)],(function(l,n){l(n,1,0)}),null)}var _=e.Gb("app-post-edit",i,K,{},{},[]),x=t("t68o"),J=t("zbXB"),z=t("Xd0L"),P=t("POq0"),R=t("QQfA"),S=t("IP0z"),D=t("JjoW"),M=t("qJ5m"),E=t("gavF"),q=t("s6ns"),T=t("821u");class F{}var V=t("ura0"),H=t("Nhcz"),O=t("u9T3"),A=t("7QIX"),Q=t("lT8R"),X=t("BzsH"),Z=t("zMNK"),B=t("5GAg"),N=t("rWV4"),G=t("Fwaw"),Y=t("hOhj"),ll=t("BV1i"),nl=t("02hT"),tl=t("Q+lL"),el=t("HsOI"),ol=t("igqZ"),il=t("FVPZ"),al=t("qJ50"),ul=t("oapL"),cl=t("ZwOa"),rl=t("8P0U"),sl=t("vvyD"),bl=t("dMY7");t.d(n,"PostEditModuleNgFactory",(function(){return pl}));var pl=e.Hb(o,[i],(function(l){return e.Tb([e.Ub(512,e.m,e.rb,[[8,[a.a,_,x.a,J.b,J.a]],[3,e.m],e.H]),e.Ub(4608,p.m,p.l,[e.D,[2,p.C]]),e.Ub(5120,e.b,(function(l,n){return[c.j(l,n)]}),[p.c,e.M]),e.Ub(4608,C.e,z.c,[[2,z.g],[2,z.l]]),e.Ub(4608,P.c,P.c,[]),e.Ub(4608,R.c,R.c,[R.i,R.e,e.m,R.h,R.f,e.z,e.J,p.c,S.b,[2,p.g]]),e.Ub(5120,R.j,R.k,[R.c]),e.Ub(5120,D.a,D.b,[R.c]),e.Ub(5120,M.b,M.a,[[3,M.b]]),e.Ub(4608,z.b,z.b,[]),e.Ub(5120,E.c,E.j,[R.c]),e.Ub(5120,q.b,q.c,[R.c]),e.Ub(135680,q.d,q.d,[R.c,e.z,[2,p.g],[2,q.a],q.b,[3,q.d],R.e]),e.Ub(4608,T.i,T.i,[]),e.Ub(5120,T.a,T.b,[R.c]),e.Ub(4608,z.a,z.w,[[2,z.f],b.a]),e.Ub(4608,g.q,g.q,[]),e.Ub(1073742336,p.b,p.b,[]),e.Ub(1073742336,m.o,m.o,[[2,m.t],[2,m.k]]),e.Ub(1073742336,F,F,[]),e.Ub(1073742336,c.c,c.c,[]),e.Ub(1073742336,S.a,S.a,[]),e.Ub(1073742336,u.g,u.g,[]),e.Ub(1073742336,V.a,V.a,[]),e.Ub(1073742336,H.a,H.a,[]),e.Ub(1073742336,O.a,O.a,[[2,c.g],e.M]),e.Ub(1073742336,A.a,A.a,[]),e.Ub(1073742336,z.l,z.l,[[2,z.d],[2,C.f]]),e.Ub(1073742336,Q.a,Q.a,[]),e.Ub(1073742336,X.b,X.b,[]),e.Ub(1073742336,Z.h,Z.h,[]),e.Ub(1073742336,b.b,b.b,[]),e.Ub(1073742336,z.v,z.v,[]),e.Ub(1073742336,P.d,P.d,[]),e.Ub(1073742336,B.a,B.a,[]),e.Ub(1073742336,N.l,N.l,[]),e.Ub(1073742336,f.c,f.c,[]),e.Ub(1073742336,G.c,G.c,[]),e.Ub(1073742336,Y.c,Y.c,[]),e.Ub(1073742336,ll.a,ll.a,[]),e.Ub(1073742336,z.n,z.n,[]),e.Ub(1073742336,z.t,z.t,[]),e.Ub(1073742336,nl.a,nl.a,[]),e.Ub(1073742336,tl.a,tl.a,[]),e.Ub(1073742336,R.g,R.g,[]),e.Ub(1073742336,z.r,z.r,[]),e.Ub(1073742336,el.d,el.d,[]),e.Ub(1073742336,D.c,D.c,[]),e.Ub(1073742336,ol.h,ol.h,[]),e.Ub(1073742336,il.a,il.a,[]),e.Ub(1073742336,al.e,al.e,[]),e.Ub(1073742336,M.c,M.c,[]),e.Ub(1073742336,E.i,E.i,[]),e.Ub(1073742336,E.f,E.f,[]),e.Ub(1073742336,ul.c,ul.c,[]),e.Ub(1073742336,cl.c,cl.c,[]),e.Ub(1073742336,q.g,q.g,[]),e.Ub(1073742336,T.j,T.j,[]),e.Ub(1073742336,z.x,z.x,[]),e.Ub(1073742336,z.o,z.o,[]),e.Ub(1073742336,s.c,s.c,[]),e.Ub(1073742336,rl.c,rl.c,[]),e.Ub(1073742336,sl.a,sl.a,[]),e.Ub(1073742336,W.b,W.b,[]),e.Ub(1073742336,g.p,g.p,[]),e.Ub(1073742336,g.f,g.f,[]),e.Ub(1073742336,bl.b,bl.b,[]),e.Ub(1073742336,v.f,v.f,[]),e.Ub(1073742336,o,o,[]),e.Ub(1024,m.i,(function(){return[[{path:"",component:i}]]}),[]),e.Ub(256,z.e,z.i,[])])}))}}]);